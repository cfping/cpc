!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){var t="function"==typeof Map?new Map:void 0;return n=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(v())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&p(i,r.prototype),i}(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},n(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,u=[],f=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(e){s=!0,i=e}finally{try{if(!f&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function d(e,t,r){return t=h(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}System.register(["./index-legacy-CJCbYp-g.js","./vendor-legacy-CH50wlgc.js"],function(e,r){"use strict";var a,s,l,v,h,p,g,w,m,b,E,B,O;return{setters:[function(e){a=e.M,s=e.N,l=e.O,v=e.P,h=e.Q,p=e.R,g=e.S,w=e.T,m=e.U,b=e.V,E=e.W,B=e.X,O=e.Y},null],execute:function(){var r=function(e){function t(e,r){var n;f(this,t),(n=d(this,t)).finished=!1,n.destroyed=!1,s(e);var i=l(r);if(n.iHash=e.create(),"function"!=typeof n.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");n.blockLen=n.iHash.blockLen,n.outputLen=n.iHash.outputLen;var o=n.blockLen,a=new Uint8Array(o);a.set(i.length>o?e.create().update(i).digest():i);for(var u=0;u<a.length;u++)a[u]^=54;n.iHash.update(a),n.oHash=e.create();for(var c=0;c<a.length;c++)a[c]^=106;return n.oHash.update(a),v(a),n}return y(t,e),c(t,[{key:"update",value:function(e){return h(this),this.iHash.update(e),this}},{key:"digestInto",value:function(e){h(this),p(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}},{key:"digest",value:function(){var e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}},{key:"_cloneInto",value:function(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));var t=this.oHash,r=this.iHash,n=this.finished,i=this.destroyed,o=this.blockLen,a=this.outputLen;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}},{key:"clone",value:function(){return this._cloneInto()}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}])}(a),k=function(e,t,n){return new r(e,t).update(n).digest()};k.create=function(e,t){return new r(e,t)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var S=BigInt(0),x=BigInt(1);function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("boolean"!=typeof e){var r=t&&'"'.concat(t,'"');throw new Error(r+"expected boolean, got type="+u(e))}return e}function I(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=w(e),i=null==e?void 0:e.length,o=void 0!==t;if(!n||o&&i!==t){var a=r&&'"'.concat(r,'" '),f=o?" of length ".concat(t):"",s=n?"length=".concat(i):"type=".concat(u(e));throw new Error(a+"expected Uint8Array"+f+", got "+s)}return e}function A(e){var t=e.toString(16);return 1&t.length?"0"+t:t}function j(e){if("string"!=typeof e)throw new Error("hex string expected, got "+u(e));return""===e?S:BigInt("0x"+e)}function N(e){return j(g(e))}function P(e){return p(e),j(g(Uint8Array.from(e).reverse()))}function q(e,t){return m(e.toString(16).padStart(2*t,"0"))}function F(e,t){return q(e,t).reverse()}function U(e,t,r){var n;if("string"==typeof t)try{n=m(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else{if(!w(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}return n.length,n}var Z=function(e){return"bigint"==typeof e&&S<=e};function V(e,t,r,n){if(!function(e,t,r){return Z(e)&&Z(t)&&Z(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function H(e){var t;for(t=0;e>S;e>>=x,t+=1);return t}var K=function(e){return(x<<BigInt(e))-x};function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!==u(e))throw new Error("expected valid options object");function n(t,r,n){var i=e[t];if(!n||void 0!==i){var o=u(i);if(o!==r||null===i)throw new Error('param "'.concat(t,'" is invalid: expected ').concat(r,", got ").concat(o))}}Object.entries(t).forEach(function(e){var t=i(e,2);return n(t[0],t[1],!1)}),Object.entries(r).forEach(function(e){var t=i(e,2);return n(t[0],t[1],!0)})}function C(e){var t=new WeakMap;return function(r){var n=t.get(r);if(void 0!==n)return n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var u=e.apply(void 0,[r].concat(o));return t.set(r,u),u}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var L=BigInt(0),D=BigInt(1),_=BigInt(2),Y=BigInt(3),z=BigInt(4),M=BigInt(5),G=BigInt(7),X=BigInt(8),W=BigInt(9),Q=BigInt(16);function $(e,t){var r=e%t;return r>=L?r:t+r}function J(e,t,r){for(var n=e;t-- >L;)n*=n,n%=r;return n}function ee(e,t){if(e===L)throw new Error("invert: expected non-zero number");if(t<=L)throw new Error("invert: expected positive modulus, got "+t);for(var r=$(e,t),n=t,i=L,o=D;r!==L;){var a=n%r,u=i-o*(n/r);n=r,r=a,i=o,o=u}if(n!==D)throw new Error("invert: does not exist");return $(i,t)}function te(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function re(e,t){var r=(e.ORDER+D)/z,n=e.pow(t,r);return te(e,n,t),n}function ne(e,t){var r=(e.ORDER-M)/X,n=e.mul(t,_),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,_),i),u=e.mul(o,e.sub(a,e.ONE));return te(e,u,t),u}function ie(e){if(e<Y)throw new Error("sqrt is not defined for small field");for(var t=e-D,r=0;t%_===L;)t/=_,r++;for(var n=_,i=ce(e);1===fe(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return re;var o=i.pow(n,t),a=(t+D)/_;return function(e,n){if(e.is0(n))return n;if(1!==fe(e,n))throw new Error("Cannot find square root");for(var i=r,u=e.mul(e.ONE,o),f=e.pow(n,t),s=e.pow(n,a);!e.eql(f,e.ONE);){if(e.is0(f))return e.ZERO;for(var c=1,l=e.sqr(f);!e.eql(l,e.ONE);)if(c++,l=e.sqr(l),c===i)throw new Error("Cannot find square root");var d=D<<BigInt(i-c-1),v=e.pow(u,d);i=c,u=e.sqr(v),f=e.mul(f,u),s=e.mul(s,v)}return s}}function oe(e){return e%z===Y?re:e%X===M?ne:e%Q===W?function(e){var t=ce(e),r=ie(e),n=r(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),a=(e+G)/Q;return function(e,t){var r=e.pow(t,a),u=e.mul(r,n),f=e.mul(r,i),s=e.mul(r,o),c=e.eql(e.sqr(u),t),l=e.eql(e.sqr(f),t);r=e.cmov(r,u,c),u=e.cmov(s,f,l);var d=e.eql(e.sqr(u),t),v=e.cmov(r,u,d);return te(e,v,t),v}}(e):ie(e)}var ae=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ue(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(function(t,r,i){return e.is0(r)?t:(n[i]=t,e.mul(t,r))},e.ONE),o=e.inv(i);return t.reduceRight(function(t,r,i){return e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))},o),n}function fe(e,t){var r=(e.ORDER-D)/_,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function se(e,t){void 0!==t&&E(t);var r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ce(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=L)throw new Error("invalid field: expected ORDER > 0, got "+e);var i=void 0,o=void 0,a=!1,f=void 0;if("object"===u(t)&&null!=t){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");var s=t;s.BITS&&(i=s.BITS),s.sqrt&&(o=s.sqrt),"boolean"==typeof s.isLE&&(r=s.isLE),"boolean"==typeof s.modFromBytes&&(a=s.modFromBytes),f=s.allowedLengths}else"number"==typeof t&&(i=t),n.sqrt&&(o=n.sqrt);var c,l=se(e,i),d=l.nBitLength,v=l.nByteLength;if(v>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");var h=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:v,MASK:K(d),ZERO:L,ONE:D,allowedLengths:f,create:function(t){return $(t,e)},isValid:function(t){if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+u(t));return L<=t&&t<e},is0:function(e){return e===L},isValidNot0:function(e){return!h.is0(e)&&h.isValid(e)},isOdd:function(e){return(e&D)===D},neg:function(t){return $(-t,e)},eql:function(e,t){return e===t},sqr:function(t){return $(t*t,e)},add:function(t,r){return $(t+r,e)},sub:function(t,r){return $(t-r,e)},mul:function(t,r){return $(t*r,e)},pow:function(e,t){return function(e,t,r){if(r<L)throw new Error("invalid exponent, negatives unsupported");if(r===L)return e.ONE;if(r===D)return t;for(var n=e.ONE,i=t;r>L;)r&D&&(n=e.mul(n,i)),i=e.sqr(i),r>>=D;return n}(h,e,t)},div:function(t,r){return $(t*ee(r,e),e)},sqrN:function(e){return e*e},addN:function(e,t){return e+t},subN:function(e,t){return e-t},mulN:function(e,t){return e*t},inv:function(t){return ee(t,e)},sqrt:o||function(t){return c||(c=oe(e)),c(h,t)},toBytes:function(e){return r?F(e,v):q(e,v)},fromBytes:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(f){if(!f.includes(t.length)||t.length>v)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+t.length);var i=new Uint8Array(v);i.set(t,r?0:i.length-t.length),t=i}if(t.length!==v)throw new Error("Field.fromBytes: expected "+v+" bytes, got "+t.length);var o=r?P(t):N(t);if(a&&(o=$(o,e)),!n&&!h.isValid(o))throw new Error("invalid field element: outside of range 0..ORDER");return o},invertBatch:function(e){return ue(h,e)},cmov:function(e,t,r){return r?t:e}});return Object.freeze(h)}function le(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");var t=e.toString(2).length;return Math.ceil(t/8)}function de(e){var t=le(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var ve=BigInt(0),he=BigInt(1);function ye(e,t){var r=t.negate();return e?r:t}function pe(e,t){var r=ue(e.Fp,t.map(function(e){return e.Z}));return t.map(function(t,n){return e.fromAffine(t.toAffine(r[n]))})}function ge(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function we(e,t){ge(e,t);var r=Math.ceil(t/e)+1,n=Math.pow(2,e-1),i=Math.pow(2,e);return{windows:r,windowSize:n,mask:K(e),maxNumber:i,shiftBy:BigInt(e)}}function me(e,t,r){var n=r.windowSize,i=r.mask,o=r.maxNumber,a=r.shiftBy,u=Number(e&i),f=e>>a;u>n&&(u-=o,f+=he);var s=t*n;return{nextN:f,offset:s+Math.abs(u)-1,isZero:0===u,isNeg:u<0,isNegF:t%2!=0,offsetF:s}}var be=new WeakMap,Ee=new WeakMap;function Be(e){return Ee.get(e)||1}function Oe(e){if(e!==ve)throw new Error("invalid wNAF")}var ke=function(){return c(function e(t,r){f(this,e),this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r},[{key:"_unsafeLadder",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ZERO,n=e;t>ve;)t&he&&(r=r.add(n)),n=n.double(),t>>=he;return r}},{key:"precomputeWindow",value:function(e,t){for(var r=we(t,this.bits),n=r.windows,i=r.windowSize,o=[],a=e,u=a,f=0;f<n;f++){u=a,o.push(u);for(var s=1;s<i;s++)u=u.add(a),o.push(u);a=u.double()}return o}},{key:"wNAF",value:function(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");for(var n=this.ZERO,i=this.BASE,o=we(e,this.bits),a=0;a<o.windows;a++){var u=me(r,a,o),f=u.nextN,s=u.offset,c=u.isZero,l=u.isNeg,d=u.isNegF,v=u.offsetF;r=f,c?i=i.add(ye(d,t[v])):n=n.add(ye(l,t[s]))}return Oe(r),{p:n,f:i}}},{key:"wNAFUnsafe",value:function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.ZERO,i=we(e,this.bits),o=0;o<i.windows&&r!==ve;o++){var a=me(r,o,i),u=a.nextN,f=a.offset,s=a.isZero,c=a.isNeg;if(r=u,!s){var l=t[f];n=n.add(c?l.negate():l)}}return Oe(r),n}},{key:"getPrecomputes",value:function(e,t,r){var n=be.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),be.set(t,n))),n}},{key:"cached",value:function(e,t,r){var n=Be(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}},{key:"unsafe",value:function(e,t,r,n){var i=Be(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}},{key:"createCache",value:function(e,t){ge(t,this.bits),Ee.set(e,t),be.delete(e)}},{key:"hasCache",value:function(e){return 1!==Be(e)}}])}();function Se(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(function(e,r){if(!(e instanceof t))throw new Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(function(e,r){if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}(n,t);var i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");var a=e.ZERO,u=H(BigInt(i)),f=1;u>12?f=u-3:u>4?f=u-2:u>0&&(f=2);for(var s=K(f),c=new Array(Number(s)+1).fill(a),l=a,d=Math.floor((t.BITS-1)/f)*f;d>=0;d-=f){c.fill(a);for(var v=0;v<o;v++){var h=n[v],y=Number(h>>BigInt(d)&s);c[y]=c[y].add(r[v])}for(var p=a,g=c.length-1,w=a;g>0;g--)w=w.add(c[g]),p=p.add(w);if(l=l.add(p),0!==d)for(var m=0;m<f;m++)l=l.double()}return l}function xe(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){T(e,ae.reduce(function(e,t){return e[t]="function",e},{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return ce(e,{isLE:r})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var Re=function(e,t){return(e+(e>=0?t:-t)/Fe)/t};function Ie(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Ae(e,t){for(var r={},n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];r[o]=void 0===e[o]?t[o]:e[o]}return R(r.lowS,"lowS"),R(r.prehash,"prehash"),void 0!==r.format&&Ie(r.format),r}var je=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return f(this,t),d(this,t,[e])}return y(t,e),c(t)}(n(Error)),Ne={Err:je,_tlv:{encode:function(e,t){var r=Ne.Err;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");var n=t.length/2,i=A(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");var o=n>127?A(i.length/2|128):"";return A(e)+o+i+t},decode:function(e,t){var r=Ne.Err,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");var i=t[n++],a=0;if(!!(128&i)){var u=127&i;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");var f=t.subarray(n,n+u);if(f.length!==u)throw new r("tlv.decode: length bytes not complete");if(0===f[0])throw new r("tlv.decode(long): zero leftmost byte");var s,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,f=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){f=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(f)throw a}}}}(f);try{for(c.s();!(s=c.n()).done;){a=a<<8|s.value}}catch(d){c.e(d)}finally{c.f()}if(n+=u,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;var l=t.subarray(n,n+a);if(l.length!==a)throw new r("tlv.decode: wrong value length");return{v:l,l:t.subarray(n+a)}}},_int:{encode:function(e){var t=Ne.Err;if(e<Pe)throw new t("integer: negative integers are not allowed");var r=A(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode:function(e){var t=Ne.Err;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return N(e)}},toSig:function(e){var t=Ne.Err,r=Ne._int,n=Ne._tlv,i=U("signature",e),o=n.decode(48,i),a=o.v;if(o.l.length)throw new t("invalid signature: left bytes after parsing");var u=n.decode(2,a),f=u.v,s=u.l,c=n.decode(2,s),l=c.v;if(c.l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(f),s:r.decode(l)}},hexFromSig:function(e){var t=Ne._tlv,r=Ne._int,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},Pe=BigInt(0),qe=BigInt(1),Fe=BigInt(2),Ue=BigInt(3),Ze=BigInt(4);function Ve(e,t){var r,n=e.BYTES;if("bigint"==typeof t)r=t;else{var i=U("private key",t);try{r=e.fromBytes(i)}catch(o){throw new Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(u(t)))}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(void 0===n&&(n="edwards"===e),!t||"object"!==u(t))throw new Error("expected valid ".concat(e," CURVE object"));for(var i=0,o=["p","n","h"];i<o.length;i++){var a=o[i],f=t[a];if(!("bigint"==typeof f&&f>ve))throw new Error("CURVE.".concat(a," must be positive bigint"))}for(var s=xe(t.p,r.Fp,n),c=xe(t.n,r.Fn,n),l=0,d=["Gx","Gy","a","b"];l<d.length;l++){var v=d[l];if(!s.isValid(t[v]))throw new Error("CURVE.".concat(v," must be valid field element of CURVE.Fp"))}return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:s,Fn:c}}("weierstrass",e,t),n=r.Fp,o=r.Fn,a=r.CURVE,s=a.h,l=a.n;T(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});var d=t.endo;if(d&&(!n.is0(a.a)||"bigint"!=typeof d.beta||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');var v=Te(n,o);function h(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}var y=t.toBytes||function(e,t,r){var i=t.toAffine(),o=i.x,a=i.y,u=n.toBytes(o);if(R(r,"isCompressed"),r){h();var f=!n.isOdd(a);return b(Ke(f),u)}return b(Uint8Array.of(4),u,n.toBytes(a))},p=t.fromBytes||function(e){I(e,void 0,"Point");var t=v.publicKey,r=v.publicKeyUncompressed,i=e.length,o=e[0],a=e.subarray(1);if(i!==t||2!==o&&3!==o){if(i===r&&4===o){var u=n.BYTES,f=n.fromBytes(a.subarray(0,u)),s=n.fromBytes(a.subarray(u,2*u));if(!m(f,s))throw new Error("bad point: is not on curve");return{x:f,y:s}}throw new Error("bad point: got length ".concat(i,", expected compressed=").concat(t," or uncompressed=").concat(r))}var c=n.fromBytes(a);if(!n.isValid(c))throw new Error("bad point: is not on curve, wrong x");var l,d=w(c);try{l=n.sqrt(d)}catch(p){var y=p instanceof Error?": "+p.message:"";throw new Error("bad point: is not on curve, sqrt error"+y)}return h(),!(1&~o)!==n.isOdd(l)&&(l=n.neg(l)),{x:c,y:l}};function w(e){var t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,a.a)),a.b)}function m(e,t){var r=n.sqr(t),i=w(e);return n.eql(r,i)}if(!m(a.Gx,a.Gy))throw new Error("bad curve params: generator point");var E=n.mul(n.pow(a.a,Ue),Ze),B=n.mul(n.sqr(a.b),BigInt(27));if(n.is0(n.add(E,B)))throw new Error("bad curve params: a or b");function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.isValid(t)||r&&n.is0(t))throw new Error("bad point coordinate ".concat(e));return t}function k(e){if(!(e instanceof N))throw new Error("ProjectivePoint expected")}function S(e){if(!d||!d.basises)throw new Error("no endo");return function(e,t,r){var n=i(t,2),o=i(n[0],2),a=o[0],u=o[1],f=i(n[1],2),s=f[0],c=f[1],l=Re(c*e,r),d=Re(-u*e,r),v=e-l*a-d*s,h=-l*u-d*c,y=v<Pe,p=h<Pe;y&&(v=-v),p&&(h=-h);var g=K(Math.ceil(H(r)/2))+qe;if(v<Pe||v>=g||h<Pe||h>=g)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:y,k1:v,k2neg:p,k2:h}}(e,d.basises,o.ORDER)}var x=C(function(e,t){var r=e.X,i=e.Y,o=e.Z;if(n.eql(o,n.ONE))return{x:r,y:i};var a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));var u=n.mul(r,t),f=n.mul(i,t),s=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(s,n.ONE))throw new Error("invZ was invalid");return{x:u,y:f}}),A=C(function(e){if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw new Error("bad point: ZERO")}var r=e.toAffine(),i=r.x,o=r.y;if(!n.isValid(i)||!n.isValid(o))throw new Error("bad point: x or y not field elements");if(!m(i,o))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function j(e,t,r,i,o){return r=new N(n.mul(r.X,e),r.Y,r.Z),t=ye(i,t),r=ye(o,r),t.add(r)}var N=function(){function e(t,r,n){f(this,e),this.X=O("x",t),this.Y=O("y",r,!0),this.Z=O("z",n),Object.freeze(this)}return c(e,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"precompute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return q.createCache(this,e),t||this.multiply(Ue),this}},{key:"assertValidity",value:function(){A(this)}},{key:"hasEvenY",value:function(){var e=this.toAffine().y;if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}},{key:"equals",value:function(e){k(e);var t=this.X,r=this.Y,i=this.Z,o=e.X,a=e.Y,u=e.Z,f=n.eql(n.mul(t,u),n.mul(o,i)),s=n.eql(n.mul(r,u),n.mul(a,i));return f&&s}},{key:"negate",value:function(){return new e(this.X,n.neg(this.Y),this.Z)}},{key:"double",value:function(){var t=a.a,r=a.b,i=n.mul(r,Ue),o=this.X,u=this.Y,f=this.Z,s=n.ZERO,c=n.ZERO,l=n.ZERO,d=n.mul(o,o),v=n.mul(u,u),h=n.mul(f,f),y=n.mul(o,u);return y=n.add(y,y),l=n.mul(o,f),l=n.add(l,l),s=n.mul(t,l),c=n.mul(i,h),c=n.add(s,c),s=n.sub(v,c),c=n.add(v,c),c=n.mul(s,c),s=n.mul(y,s),l=n.mul(i,l),h=n.mul(t,h),y=n.sub(d,h),y=n.mul(t,y),y=n.add(y,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,h),d=n.mul(d,y),c=n.add(c,d),h=n.mul(u,f),h=n.add(h,h),d=n.mul(h,y),s=n.sub(s,d),l=n.mul(h,v),l=n.add(l,l),new e(s,c,l=n.add(l,l))}},{key:"add",value:function(t){k(t);var r=this.X,i=this.Y,o=this.Z,u=t.X,f=t.Y,s=t.Z,c=n.ZERO,l=n.ZERO,d=n.ZERO,v=a.a,h=n.mul(a.b,Ue),y=n.mul(r,u),p=n.mul(i,f),g=n.mul(o,s),w=n.add(r,i),m=n.add(u,f);w=n.mul(w,m),m=n.add(y,p),w=n.sub(w,m),m=n.add(r,o);var b=n.add(u,s);return m=n.mul(m,b),b=n.add(y,g),m=n.sub(m,b),b=n.add(i,o),c=n.add(f,s),b=n.mul(b,c),c=n.add(p,g),b=n.sub(b,c),d=n.mul(v,m),c=n.mul(h,g),d=n.add(c,d),c=n.sub(p,d),d=n.add(p,d),l=n.mul(c,d),p=n.add(y,y),p=n.add(p,y),g=n.mul(v,g),m=n.mul(h,m),p=n.add(p,g),g=n.sub(y,g),g=n.mul(v,g),m=n.add(m,g),y=n.mul(p,m),l=n.add(l,y),y=n.mul(b,m),c=n.mul(w,c),c=n.sub(c,y),y=n.mul(w,p),d=n.mul(b,d),new e(c,l,d=n.add(d,y))}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"is0",value:function(){return this.equals(e.ZERO)}},{key:"multiply",value:function(r){var n,i,a=this,u=t.endo;if(!o.isValidNot0(r))throw new Error("invalid scalar: out of range");var f=function(t){return q.cached(a,t,function(t){return pe(e,t)})};if(u){var s=S(r),c=s.k1neg,l=s.k1,d=s.k2neg,v=s.k2,h=f(l),y=h.p,p=h.f,g=f(v),w=g.p,m=g.f;i=p.add(m),n=j(u.beta,y,w,c,d)}else{var b=f(r);n=b.p,i=b.f}return pe(e,[n,i])[0]}},{key:"multiplyUnsafe",value:function(r){var n=t.endo,i=this;if(!o.isValid(r))throw new Error("invalid scalar: out of range");if(r===Pe||i.is0())return e.ZERO;if(r===qe)return i;if(q.hasCache(this))return this.multiply(r);if(n){var a=S(r),u=a.k1neg,f=a.k1,s=a.k2neg,c=function(e,t,r,n){for(var i=t,o=e.ZERO,a=e.ZERO;r>ve||n>ve;)r&he&&(o=o.add(i)),n&he&&(a=a.add(i)),i=i.double(),r>>=he,n>>=he;return{p1:o,p2:a}}(e,i,f,a.k2),l=c.p1,d=c.p2;return j(n.beta,l,d,u,s)}return q.unsafe(i,r)}},{key:"multiplyAndAddUnsafe",value:function(e,t,r){var n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}},{key:"toAffine",value:function(e){return x(this,e)}},{key:"isTorsionFree",value:function(){var r=t.isTorsionFree;return s===qe||(r?r(e,this):q.unsafe(this,l).is0())}},{key:"clearCofactor",value:function(){var r=t.clearCofactor;return s===qe?this:r?r(e,this):this.multiplyUnsafe(s)}},{key:"isSmallOrder",value:function(){return this.multiplyUnsafe(s).is0()}},{key:"toBytes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return R(t,"isCompressed"),this.assertValidity(),y(e,this,t)}},{key:"toHex",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return g(this.toBytes(e))}},{key:"toString",value:function(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}},{key:"px",get:function(){return this.X}},{key:"py",get:function(){return this.X}},{key:"pz",get:function(){return this.Z}},{key:"toRawBytes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.toBytes(e)}},{key:"_setWindowSize",value:function(e){this.precompute(e)}}],[{key:"CURVE",value:function(){return a}},{key:"fromAffine",value:function(t){var r=t||{},i=r.x,o=r.y;if(!t||!n.isValid(i)||!n.isValid(o))throw new Error("invalid affine point");if(t instanceof e)throw new Error("projective point not allowed");return n.is0(i)&&n.is0(o)?e.ZERO:new e(i,o,n.ONE)}},{key:"fromBytes",value:function(t){var r=e.fromAffine(p(I(t,void 0,"point")));return r.assertValidity(),r}},{key:"fromHex",value:function(t){return e.fromBytes(U("pointHex",t))}},{key:"normalizeZ",value:function(t){return pe(e,t)}},{key:"msm",value:function(t,r){return Se(e,o,t,r)}},{key:"fromPrivateKey",value:function(t){return e.BASE.multiply(Ve(o,t))}}])}();N.BASE=new N(a.Gx,a.Gy,n.ONE),N.ZERO=new N(n.ZERO,n.ONE,n.ZERO),N.Fp=n,N.Fn=o;var P=o.BITS,q=new ke(N,t.endo?Math.ceil(P/2):P);return N.BASE.precompute(8),N}function Ke(e){return Uint8Array.of(e?2:3)}function Te(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.Fn,n=t.randomBytes||B,i=Object.assign(Te(e.Fp,r),{seed:de(r.ORDER)});function o(e){try{return!!Ve(r,e)}catch(t){return!1}}function a(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=le(t),o=de(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);var a=$(r?P(e):N(e),t-D)+D;return r?F(a,i):q(a,i)}(I(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(i.seed),i.seed,"seed"),r.ORDER)}function u(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.BASE.multiply(Ve(r,t)).toBytes(n)}function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;var n=i.secretKey,o=i.publicKey,a=i.publicKeyUncompressed;if(!r.allowedLengths&&n!==o){var u=U("key",t).length;return u===o||u===a}}var s={isValidSecretKey:o,isValidPublicKey:function(t,r){var n=i.publicKey,o=i.publicKeyUncompressed;try{var a=t.length;return(!0!==r||a===n)&&((!1!==r||a===o)&&!!e.fromBytes(t))}catch(u){return!1}},randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:function(e){return Ve(r,e)},precompute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE).precompute(t,!1)}};return Object.freeze({getPublicKey:u,getSharedSecret:function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===f(t))throw new Error("first arg must be private key");if(!1===f(n))throw new Error("second arg must be public key");var o=Ve(r,t);return e.fromHex(n).multiply(o).toBytes(i)},keygen:function(e){var t=a(e);return{secretKey:t,publicKey:u(t)}},Point:e,utils:s,lengths:i})}function Le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(t),T(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});var n=r.randomBytes||B,i=r.hmac||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return k(t,e,b.apply(void 0,n))},o=e.Fp,a=e.Fn,l=a.ORDER,d=a.BITS,v=Ce(e,r),h=v.keygen,y=v.getPublicKey,p=v.getSharedSecret,E=v.utils,O=v.lengths,S={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},x="compact";function R(e){return e>l>>qe}function A(e,t){if(!a.isValidNot0(t))throw new Error("invalid signature ".concat(e,": out of range 1..Point.Fn.ORDER"));return t}var j=function(){function t(e,r,n){f(this,t),this.r=A("r",e),this.s=A("s",r),null!=n&&(this.recovery=n),Object.freeze(this)}return c(t,[{key:"addRecoveryBit",value:function(e){return new t(this.r,this.s,e)}},{key:"recoverPublicKey",value:function(t){var r=o.ORDER,n=this.r,i=this.s,u=this.recovery;if(null==u||![0,1,2,3].includes(u))throw new Error("recovery id invalid");if(l*Fe<r&&u>1)throw new Error("recovery id is ambiguous for h>1 curve");var f=2===u||3===u?n+l:n;if(!o.isValid(f))throw new Error("recovery id 2 or 3 invalid");var s=o.toBytes(f),c=e.fromBytes(b(Ke(!(1&u)),s)),d=a.inv(f),v=q(U("msgHash",t)),h=a.create(-v*d),y=a.create(i*d),p=e.BASE.multiplyUnsafe(h).add(c.multiplyUnsafe(y));if(p.is0())throw new Error("point at infinify");return p.assertValidity(),p}},{key:"hasHighS",value:function(){return R(this.s)}},{key:"toBytes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;if(Ie(e),"der"===e)return m(Ne.hexFromSig(this));var t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return b(Uint8Array.of(this.recovery),t,r)}return b(t,r)}},{key:"toHex",value:function(e){return g(this.toBytes(e))}},{key:"assertValidity",value:function(){}},{key:"normalizeS",value:function(){return this.hasHighS()?new t(this.r,a.neg(this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return this.toBytes("der")}},{key:"toDERHex",value:function(){return g(this.toBytes("der"))}},{key:"toCompactRawBytes",value:function(){return this.toBytes("compact")}},{key:"toCompactHex",value:function(){return g(this.toBytes("compact"))}}],[{key:"fromBytes",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;if(function(e,t){Ie(t);var r=O.signature;I(e,"compact"===t?r:"recovered"===t?r+1:void 0,"".concat(t," signature"))}(e,n),"der"===n){var i=Ne.toSig(I(e));return new t(i.r,i.s)}"recovered"===n&&(r=e[0],n="compact",e=e.subarray(1));var o=a.BYTES,u=e.subarray(0,o),f=e.subarray(o,2*o);return new t(a.fromBytes(u),a.fromBytes(f),r)}},{key:"fromHex",value:function(e,t){return this.fromBytes(m(e),t)}},{key:"fromCompact",value:function(e){return t.fromBytes(U("sig",e),"compact")}},{key:"fromDER",value:function(e){return t.fromBytes(U("sig",e),"der")}}])}(),P=r.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");var t=N(e),r=8*e.length-d;return r>0?t>>BigInt(r):t},q=r.bits2int_modN||function(e){return a.create(P(e))},F=K(d);function Z(e){return V("num < 2^"+d,e,Pe,F),a.toBytes(e)}function H(e,r){return I(e,void 0,"message"),r?I(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:h,getPublicKey:y,getSharedSecret:p,utils:E,lengths:O,Point:e,sign:function(r,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=function(t,r,i){if(["recovered","canonical"].some(function(e){return e in i}))throw new Error("sign() legacy options not supported");var o=Ae(i,S),u=o.lowS,f=o.prehash,s=o.extraEntropy;t=H(t,f);var c=q(t),l=Ve(a,r),d=[Z(l),Z(c)];if(null!=s&&!1!==s){var v=!0===s?n(O.secretKey):s;d.push(U("extraEntropy",v))}var h=b.apply(void 0,d),y=c;return{seed:h,k2sig:function(t){var r=P(t);if(a.isValidNot0(r)){var n=a.inv(r),i=e.BASE.multiply(r).toAffine(),o=a.create(i.x);if(o!==Pe){var f=a.create(n*a.create(y+o*l));if(f!==Pe){var s=(i.x===o?0:2)|Number(i.y&qe),c=f;return u&&R(f)&&(c=a.neg(f),s^=1),new j(o,c,s)}}}}}}(r=U("message",r),o,u),s=f.seed,c=f.k2sig,l=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");var n=function(e){return new Uint8Array(e)},i=function(e){return Uint8Array.of(e)},o=n(e),a=n(e),u=0,f=function(){o.fill(1),a.fill(0),u=0},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[a,o].concat(t))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(0);a=s(i(0),e),o=s(),0!==e.length&&(a=s(i(1),e),o=s())},l=function(){if(u++>=1e3)throw new Error("drbg: tried 1000 values");for(var e=0,r=[];e<t;){var n=(o=s()).slice();r.push(n),e+=o.length}return b.apply(void 0,r)};return function(e,t){f(),c(e);for(var r=void 0;!(r=t(l()));)c();return f(),r}}(t.outputLen,a.BYTES,i);return l(s,c)},verify:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Ae(i,S),f=o.lowS,s=o.prehash,c=o.format;if(n=U("publicKey",n),r=H(U("message",r),s),"strict"in i)throw new Error("options.strict was renamed to lowS");var l=void 0===c?function(e){var t=void 0,r="string"==typeof e||w(e),n=!r&&null!==e&&"object"===u(e)&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new j(e.r,e.s);else if(r){try{t=j.fromBytes(U("sig",e),"der")}catch(i){if(!(i instanceof Ne.Err))throw i}if(!t)try{t=j.fromBytes(U("sig",e),"compact")}catch(o){return!1}}return t||!1}(t):j.fromBytes(U("sig",t),c);if(!1===l)return!1;try{var d=e.fromBytes(n);if(f&&l.hasHighS())return!1;var v=l.r,h=l.s,y=q(r),p=a.inv(h),g=a.create(y*p),m=a.create(v*p),b=e.BASE.multiplyUnsafe(g).add(d.multiplyUnsafe(m));return!b.is0()&&a.create(b.x)===v}catch(E){return!1}},recoverPublicKey:function(e,t){return t=H(t,Ae(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S).prehash),j.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:j,hash:t})}function De(e){var t=function(e){var t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(function(e){return Math.ceil(e/2)}))):void 0;return{CURVE:t,curveOpts:{Fp:r,Fn:ce(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r=t.CURVE,n=t.curveOpts,i={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:r,curveOpts:n,hash:e.hash,ecdsaOpts:i}}function _e(e){var t=De(e),r=t.CURVE,n=t.curveOpts,i=t.hash,o=t.ecdsaOpts;return function(e,t){var r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,se(r.Fn.ORDER,r.Fn.BITS))})}(e,Le(He(r,n),i,o))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var Ye={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ze={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Me=BigInt(2);var Ge,Xe,We=ce(Ye.p,{sqrt:function(e){var t=Ye.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),u=BigInt(44),f=BigInt(88),s=e*e*e%t,c=s*s*e%t,l=J(c,r,t)*c%t,d=J(l,r,t)*c%t,v=J(d,Me,t)*s%t,h=J(v,i,t)*v%t,y=J(h,o,t)*h%t,p=J(y,u,t)*y%t,g=J(p,f,t)*p%t,w=J(g,u,t)*y%t,m=J(w,r,t)*c%t,b=J(m,a,t)*h%t,E=J(b,n,t)*s%t,B=J(E,Me,t);if(!We.eql(We.sqr(B),e))throw new Error("Cannot find square root");return B}});e("secp256k1",(Ge=t(t({},Ye),{},{Fp:We,lowS:!0,endo:ze}),Xe=function(e){return _e(t(t({},Ge),{},{hash:e}))},t(t({},Xe(O)),{},{create:Xe})))}}})}();
